# MakeDoc
MakeDoc是一个可以离线工作的文档编写工具, 工具本身只有一个html文件, 直接双击即可在现代浏览器中运行, 无需搭建服务器

# 在线预览
https://make-doc.ngapp.net

# 如何使用
1. 打开文档编写页面  https://make-doc.ngapp.net
2. 点击右上角[编辑]按钮, 切换到编辑模式
3. 输入文档内容
4. 按下 Ctrl + S 快捷键保存文档
5. 在弹出框中选择一个位置, 保存文件.

保存的文件是一个html文件, 可以直接双击打开, 在浏览器中运行, 也可以继续编辑, 更新文档.

# MakeDoc 更新了, 我如何把旧文档更新到新版本?
1. 打开旧文档
2. 点击左上角[导出数据]按钮, 保存文档的原始数据, 原始数据是一个json文件
3. 打开新版本的MakeDoc页面, 进入编辑模式.
4. 点击右上角[导入数据]按钮, 弹出导入数据对话框, 选择保存的json文件, 文档将自动加载
5. 继续编辑, 保存文档, 即可完成更新

# MakeDoc的原理

MakeDoc的文档保存原理是直接把数据转换成json格式, 插入到js代码中, 具体方式可查看源码中的 tree 变量 和 contents 变量, 每次保存文档的时候, 都会先拿到当前页面的源代码, 然后替换掉数据部分进行保存, 保存方法使用的是 Web FileSystem Api, 因此只有第一次保存文件的时候才会弹出保存对话框.

# 常见问题
1. 图片是怎么保存的?  
   答: 图片是直接使用base64的方式写入img标签的src属性的, 所以插入图片也不影响文档保存单文件运行.
2. 我想插入代码, 希望代码可以着色, 该如何实现?  
   答: 可以在VS Code中编写代码, 然后复制到文档的编辑区域即可.
3. 为什么我在其他网页复制过来的内容包含了原来网页的部分格式?  
   答: 粘贴的时候可以使用 Ctrl + Shift + V 快捷键, 这个可以去除格式, 直接以文本的方式粘贴
